<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comparar Peleadores UFC</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f9;
            color: #333;
            margin: 0;
            padding: 20px;
        }

        h1 {
            text-align: center;
            color: #222;
        }

        form {
            text-align: center;
            margin-bottom: 30px;
        }

        form button {
            padding: 8px 15px;
            border: none;
            border-radius: 5px;
            background-color: #333;
            color: #fff;
            cursor: pointer;
        }

        .peleadores-container {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 40px;
        }

        .peleador-card {
            background: #fff;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 0 8px rgba(0,0,0,0.1);
            width: 220px;
            text-align: center;
            transition: 0.3s;
        }

        .peleador-card:hover {
            box-shadow: 0 0 15px rgba(0,0,0,0.2);
        }

        .peleador-card img {
            width: 120px;
            height: 120px;
            object-fit: cover;
            border-radius: 8px;
            margin-bottom: 10px;
        }

        table {
            width: 100%;
            max-width: 900px;
            margin: auto;
            border-collapse: collapse;
            background: #fff;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 0 8px rgba(0,0,0,0.1);
        }

        th, td {
            padding: 10px;
            text-align: center;
            border-bottom: 1px solid #ddd;
        }

        th {
            background-color: #333;
            color: #fff;
        }

        td img {
            width: 80px;
            height: 80px;
            border-radius: 8px;
        }

        a {
            text-align: center;
            display: inline-block;
            margin-top: 20px;
            text-decoration: none;
            color: #333;
            background-color: #ffc600;
            padding: 10px 16px;
            border-radius: 6px;
            transition: 0.3s;
            font-weight: bold;
        }

        a:hover {
            background-color: #dbac02;
        }

        .back {
            display: block;
            text-align: center;
        }

    </style>

    <!-- Select2 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />

    <!-- jQuery (requerido por Select2) -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- Select2 JS -->
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>


</head>
<body>
    <h1>Comparar Peleadores UFC</h1>

    <form method="get" style="text-align:center; margin-bottom: 30px;">
        <label for="buscar">Selecciona peleadores:</label><br><br>
        <select id="buscar" name="ids" multiple="multiple" style="width:300px;">
            {% for p in todos_peleadores %}
                <option value="{{ p.id }}" {% if p in peleadores %}selected{% endif %}>{{ p.nombre }}</option>
            {% endfor %}
        </select>
        <br><br>
        <button type="submit">Comparar</button>
    </form>

    <script>
        // Inicializar Select2
        $(document).ready(function() {
            $('#buscar').select2({
                placeholder: "Escribe y selecciona peleadores",
                allowClear: true
            });
        });
    </script>

    {% if peleadores %}
        <div class="peleadores-container">
            {% for p in peleadores %}
                <div class="peleador-card">
                    {% if p.foto %}
                        <img src="{{ p.foto.url }}" alt="{{ p.nombre }}">
                    {% endif %}
                    <h3>{{ p.nombre }}</h3>
                    <p>Edad: {{ p.edad }}</p>
                    <p>Peso: {{ p.peso }} kg</p>
                    <p>Altura: {{ p.altura }} cm</p>
                    <p>Alcance: {{ p.alcance }} cm</p>
                    <p>Victorias: {{ p.victorias }}</p>
                    <p>Derrotas: {{ p.derrotas }}</p>
                </div>
            {% endfor %}
        </div>

        <table>
            <thead>
                <tr>
                    <th>Atributo</th>
                    {% for p in peleadores %}
                        <th>{{ p.nombre }}</th>
                    {% endfor %}
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Golpes por minuto</td>
                    {% for p in peleadores %}<td>{{ p.golpes_por_minuto }}</td>{% endfor %}
                </tr>
                <tr>
                    <td>Precisión golpes</td>
                    {% for p in peleadores %}<td>{{ p.precision_golpes }}%</td>{% endfor %}
                </tr>
                <tr>
                    <td>Golpes recibidos</td>
                    {% for p in peleadores %}<td>{{ p.golpes_recibidos }}</td>{% endfor %}
                </tr>
                <tr>
                    <td>Defensa golpes</td>
                    {% for p in peleadores %}<td>{{ p.defensa_golpes }}%</td>{% endfor %}
                </tr>
                <tr>
                    <td>Derribos promedio</td>
                    {% for p in peleadores %}<td>{{ p.derribos_promedio }}</td>{% endfor %}
                </tr>
                <tr>
                    <td>Precisión derribos</td>
                    {% for p in peleadores %}<td>{{ p.precision_derribos }}%</td>{% endfor %}
                </tr>
                <tr>
                    <td>Defensa derribos</td>
                    {% for p in peleadores %}<td>{{ p.defensa_derribos }}%</td>{% endfor %}
                </tr>
                <tr>
                    <td>Sumisiones promedio</td>
                    {% for p in peleadores %}<td>{{ p.sumisiones_promedio }}</td>{% endfor %}
                </tr>
            </tbody>
        </table>
    {% endif %}

    <div class="back">
        <a href="{% url 'inicio' %}">Volver al menu</a>
    </div>

</body>
</html>
